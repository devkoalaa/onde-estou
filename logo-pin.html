<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logo Pin - Estilo WhatsApp</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .pin-logo {
            position: relative;
            width: 400px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Versão com fundo para visualização */
        .with-background {
            background: #25D366;
            border-radius: 20%;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        /* Versão transparente para export */
        .transparent {
            background: transparent;
        }

        .export-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .export-btn {
            padding: 12px 24px;
            background: white;
            color: #25D366;
            border: 2px solid #25D366;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        .export-btn:hover {
            background: #25D366;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
        }

        .export-btn:active {
            transform: translateY(0);
        }
    </style>
</head>

<body>
    <div class="logo-container">
        <!-- Logo com fundo branco -->
        <div class="pin-logo with-background" id="pin-container">
            <svg id="pin-svg" width="200" height="200" viewBox="-100 -100 500 500" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: block;">
                <!-- Sombra do pin -->

                <!-- Pin de mapa -->
                <g filter="url(#shadow)">
                    <!-- Borda branca externa -->
                    <path
                        d="M150 10 C95 10, 50 55, 50 110 C50 185, 150 300, 150 300 C150 300, 250 185, 250 110 C250 55, 205 10, 150 10 Z"
                        fill="white" />

                    <!-- Preenchimento verde do WhatsApp -->
                    <path
                        d="M150 25 C100 25, 65 60, 65 110 C65 175, 150 280, 150 280 C150 280, 235 175, 235 110 C235 60, 200 25, 150 25 Z"
                        fill="#25D366" />

                    <!-- Ícone de telefone estilo WhatsApp -->
                    <g transform="translate(150, 110)" filter="url(#shadow)">
                        <!-- Círculo interno branco -->
                        <circle cx="0" cy="0" r="45" fill="white" />

                    </g>
                </g>

                <!-- Definição de sombra -->
                <defs>
                    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur in="SourceAlpha" stdDeviation="3" />
                        <feOffset dx="0" dy="4" result="offsetblur" />
                        <feComponentTransfer>
                            <feFuncA type="linear" slope="0.3" />
                        </feComponentTransfer>
                        <feMerge>
                            <feMergeNode />
                            <feMergeNode in="SourceGraphic" />
                        </feMerge>
                    </filter>
                </defs>
            </svg>
        </div>
        
        <!-- Botões de exportação -->
        <div class="export-buttons">
            <button class="export-btn" onclick="exportImage(true)">Exportar com Fundo</button>
            <button class="export-btn" onclick="exportImage(false)">Exportar Transparente</button>
            <button class="export-btn" onclick="exportBackgroundOnly()">Exportar Apenas Fundo (512x512)</button>
            <button class="export-btn" onclick="exportIconOnly()">Exportar Pin Completo</button>
            <button class="export-btn" onclick="exportMonochrome()">Exportar Monocromático</button>
        </div>
    </div>

    <script>
        // Função auxiliar para obter o tamanho visual atual do SVG
        function getCurrentSVGSize() {
            const svg = document.getElementById('pin-svg');
            // Pega o width e height do SVG que está sendo exibido
            const svgWidth = parseFloat(svg.getAttribute('width')) || 188;
            const svgHeight = parseFloat(svg.getAttribute('height')) || 200;
            return { width: svgWidth, height: svgHeight };
        }

        function exportImage(withBackground) {
            const svg = document.getElementById('pin-svg');
            const container = document.getElementById('pin-container');
            
            // Obter tamanho visual atual do SVG
            const currentSize = getCurrentSVGSize();
            
            // Usar o tamanho visual atual multiplicado por um fator de qualidade (2x para manter qualidade)
            // Isso mantém a qualidade mesmo sendo menor
            const scaleFactor = 2;
            const exportWidth = Math.round(currentSize.width * scaleFactor);
            const exportHeight = Math.round(currentSize.height * scaleFactor);
            
            // Clonar o SVG para não modificar o original
            const clonedSvg = svg.cloneNode(true);
            
            // Criar um canvas com o tamanho baseado no visual
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // Tamanho do canvas baseado no tamanho visual
            canvas.width = exportWidth;
            canvas.height = exportHeight;
            
            // Se quiser com fundo, adicionar fundo verde
            if (withBackground) {
                ctx.fillStyle = '#25D366';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            
            // Converter SVG para data URL
            const svgData = new XMLSerializer().serializeToString(clonedSvg);
            const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
            const url = URL.createObjectURL(svgBlob);
            
            // Criar imagem a partir do SVG
            const img = new Image();
            img.onload = function() {
                // Desenhar o SVG no tamanho completo do canvas
                ctx.drawImage(img, 0, 0, exportWidth, exportHeight);
                
                // Converter canvas para PNG e fazer download
                canvas.toBlob(function(blob) {
                    const link = document.createElement('a');
                    link.download = withBackground ? `pin-logo-com-fundo-${exportWidth}x${exportHeight}.png` : `pin-logo-transparente-${exportWidth}x${exportHeight}.png`;
                    link.href = URL.createObjectURL(blob);
                    link.click();
                    
                    // Limpar URLs
                    URL.revokeObjectURL(url);
                    URL.revokeObjectURL(link.href);
                }, 'image/png');
            };
            
            img.src = url;
        }

        function exportBackgroundOnly() {
            // Criar canvas 512x512 apenas com fundo verde
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 512;
            canvas.height = 512;
            
            // Preencher com fundo verde
            ctx.fillStyle = '#25D366';
            ctx.fillRect(0, 0, 512, 512);
            
            // Converter para PNG e fazer download
            canvas.toBlob(function(blob) {
                const link = document.createElement('a');
                link.download = 'fundo-verde-512x512.png';
                link.href = URL.createObjectURL(blob);
                link.click();
                URL.revokeObjectURL(link.href);
            }, 'image/png');
        }

        function exportIconOnly() {
            // Exportar pin completo com tamanho baseado no visual atual
            const svg = document.getElementById('pin-svg');
            
            // Obter tamanho visual atual do SVG
            const currentSize = getCurrentSVGSize();
            
            // Usar o tamanho visual atual multiplicado por um fator de qualidade (2x para manter qualidade)
            const scaleFactor = 2;
            const exportWidth = Math.round(currentSize.width * scaleFactor);
            const exportHeight = Math.round(currentSize.height * scaleFactor);
            
            // Clonar o SVG para não modificar o original
            const clonedSvg = svg.cloneNode(true);
            
            // Criar canvas com tamanho baseado no visual
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = exportWidth;
            canvas.height = exportHeight;
            
            // Converter SVG para data URL
            const svgData = new XMLSerializer().serializeToString(clonedSvg);
            const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
            const url = URL.createObjectURL(svgBlob);
            
            // Criar imagem a partir do SVG
            const img = new Image();
            img.onload = function() {
                // Desenhar o SVG no tamanho completo do canvas
                ctx.drawImage(img, 0, 0, exportWidth, exportHeight);
                
                // Converter para PNG e fazer download
                canvas.toBlob(function(blob) {
                    const link = document.createElement('a');
                    link.download = `pin-logo-transparente-${exportWidth}x${exportHeight}.png`;
                    link.href = URL.createObjectURL(blob);
                    link.click();
                    
                    // Limpar URLs
                    URL.revokeObjectURL(url);
                    URL.revokeObjectURL(link.href);
                }, 'image/png');
            };
            
            img.src = url;
        }

        function exportMonochrome() {
            // Exportar pin monocromático com tamanho baseado no visual atual
            const svg = document.getElementById('pin-svg');
            
            // Obter tamanho visual atual do SVG
            const currentSize = getCurrentSVGSize();
            
            // Usar o tamanho visual atual multiplicado por um fator de qualidade (2x para manter qualidade)
            const scaleFactor = 2;
            const exportWidth = Math.round(currentSize.width * scaleFactor);
            const exportHeight = Math.round(currentSize.height * scaleFactor);
            
            // Clonar o SVG e adicionar filtro monocromático
            const clonedSvg = svg.cloneNode(true);
            
            // Adicionar filtro monocromático nos defs
            let defs = clonedSvg.querySelector('defs');
            if (!defs) {
                defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                clonedSvg.appendChild(defs);
            }
            
            // Criar filtro monocromático
            const monochromeFilter = document.createElementNS('http://www.w3.org/2000/svg', 'filter');
            monochromeFilter.setAttribute('id', 'monochrome');
            monochromeFilter.setAttribute('x', '0%');
            monochromeFilter.setAttribute('y', '0%');
            monochromeFilter.setAttribute('width', '100%');
            monochromeFilter.setAttribute('height', '100%');
            
            const colorMatrix = document.createElementNS('http://www.w3.org/2000/svg', 'feColorMatrix');
            colorMatrix.setAttribute('type', 'saturate');
            colorMatrix.setAttribute('values', '0');
            monochromeFilter.appendChild(colorMatrix);
            
            defs.appendChild(monochromeFilter);
            
            // Aplicar filtro ao grupo principal
            const mainGroup = clonedSvg.querySelector('g[filter]');
            if (mainGroup) {
                mainGroup.setAttribute('filter', 'url(#shadow) url(#monochrome)');
            }
            
            // Criar canvas com tamanho baseado no visual
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = exportWidth;
            canvas.height = exportHeight;
            
            // Converter SVG para data URL
            const svgData = new XMLSerializer().serializeToString(clonedSvg);
            const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
            const url = URL.createObjectURL(svgBlob);
            
            // Criar imagem a partir do SVG
            const img = new Image();
            img.onload = function() {
                // Desenhar o SVG no tamanho completo do canvas
                ctx.drawImage(img, 0, 0, exportWidth, exportHeight);
                
                // Converter para escala de cinza usando canvas
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const data = imageData.data;
                
                for (let i = 0; i < data.length; i += 4) {
                    // Calcular luminância (método padrão)
                    const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;
                    data[i] = gray;     // R
                    data[i + 1] = gray; // G
                    data[i + 2] = gray; // B
                    // data[i + 3] mantém o alpha
                }
                
                ctx.putImageData(imageData, 0, 0);
                
                // Converter para PNG e fazer download
                canvas.toBlob(function(blob) {
                    const link = document.createElement('a');
                    link.download = `pin-logo-monocromatico-${exportWidth}x${exportHeight}.png`;
                    link.href = URL.createObjectURL(blob);
                    link.click();
                    
                    // Limpar URLs
                    URL.revokeObjectURL(url);
                    URL.revokeObjectURL(link.href);
                }, 'image/png');
            };
            
            img.src = url;
        }
    </script>
</body>

</html>